<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>ds9 scripting</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>


    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="index.html">home</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="index.html#about">About</a></li>
                        <li class="nav-item"><a class="nav-link" href="index.html#projects">Posts</a></li>
                        <li class="nav-item"><a class="nav-link" href="index.html#signup">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>


        <header class="blog-post-ds9-subprocesses">
            <div class="container px-4 px-lg-5 d-flex h-100 align-items-center justify-content-center">
                <div class="d-flex justify-content-center">
                    <div class="text-center">
                        <h1 class="mx-auto my-0 text-white">
                        </h1>
                        <h6 class="text-white-50 mx-auto mt-2 mb-5"> 

                        </h6>
                        
                        <a class="btn btn-primary" href="#fullpost">read the article</a>

                        
                    </div>
                </div>
            </div>
        </header>
            <section class="projects-section bg-light" id="fullpost">
                <h1 style="color:rgb(218, 8, 8); margin-left:55px;">DS9 scripting using Python subprocesses<br></h1>
                <p style="margin-left:15px;" style="margin-right:25px;">
                    
                    During my master's thesis work at the European Southern Observatory (ESO), I worked on searching for stellar clusters in the Milky Way
                    using whole GLIMPSE data, so, naturally I required three color images of a lot of
                    objects and from different infrared surveys (2MASS, WISE, Spitzer). To do this one by one was one heck of a problem, especially
                    when you have 100s of sources. A good solution is go to IRSA website and download the images one by one but for how long?
                    An automated or at least semi-automated process is indeed required. I found a new way to fetch the images by using a new python
                    module called <a href="https://github.com/esdc-esac-esa-int/pyesasky">pyESASky</a> and this was introduced to me by Marcos Lopez
                    (ESA/ESAC, Madrid) in the SciOPs conference on AI, 2022 held
                    at European Southern Observatory HQ in Garching. But the website was still a bit experimental and there is problem with minimum
                    size of images which could be fetched and it certainly doesn't match my requirements. So, I decided to do this the traditional
                    way using IRSA servers to fetch fits files and use DS9 to make three color images. Umm.. the main problem still exists though.
                    But... anything can be scripted as long as you don't have to prove yourself "not as robot". Although, pyds9 exists, I could not
                    find an operational version (:/). So, I decided to combine python subprocesses and DS9 to automatically generate three color images.

                    <p style="margin-left:15px;" style="margin-right:25px;">
                    The idea is to download all the fits files from IRSA by passing a list of coordinates and saving it. I'd suggest not to fetch more than
                    100 images at once as the website is a bit slow. After you have a zip file dowloaded to a folder, just unzip it and you'll see folders
                    with named ra+dec (ex. 293.711682+20.625794 or 293.711682+20.625794) and with raw fits images (ex. 2mass_j, 2mass_h, 2mass_k) with
                    systematic naming (a big shoutout to IRSA DB managers here). Now, let's get on point to run the python subprocesses to run DS9. I have collected
                    the commands from DS9's website: <a href="https://ds9.si.edu/doc/ref/command.html"> DS9 Commands</a>
                    </p>


                    <p style="margin-left:15px;" style="margin-right:25px;">
                    Interesting note: DS9 is named after Star Trek series Deep Space 9.
                    </p>

                    <pre><code>

                    import numpy as np
                    from astropy.io import fits

                    print(f"Code coming up here shortly!")

                    </code></pre>
                
                </p>
            </section>
            

</body>
</html>
